/*
 *  Sugar v2.0.4
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) Andrew Plummer
 *  https://sugarjs.com/
 *
 * ---------------------------- */
(function(){'use strict';(function(){function U(a,b){return new m(a,b)}function k(a,b){for(var d in a)if(n(a,d)&&!1===b.call(a,a[d],d,a))break}function V(a){function b(a,b,d){l(c,a,function(a,e,f){a=G(a,e,f);ua(c,a.methods,b,d,a.a);return c})}var d="Object"===a,c=W(a);b("defineStatic",1);b("defineInstance",2);b("defineInstanceAndStatic",3);b("defineStaticWithArguments",1,!0);b("defineInstanceWithArguments",2,!0);l(c,"defineStaticPolyfill",function(b,d,h){b=G(b,d,h);z(v[a],b.methods,!0,b.a);return c});l(c,"defineInstancePolyfill",
function(b,d,h){b=G(b,d,h);z(v[a].prototype,b.methods,!0,b.a);k(b.methods,function(a,b){A(c,b,a)});return c});l(c,"alias",function(a,b){var d=c,e="string"===typeof b?c[b]:b;d[a]=e;e.instance&&A(d,a,e.instance);return c});l(c,"extend",function(b){function e(a,d){var c=b[a];if(c)for(var e=0,f;f=c[e];e++)if(f===d)return!0;return!1}function h(a,d,c){if(!d[a]||!c)return!1;for(a=0;a<c.length;a++)if(!1===b[c[a]])return!0}var u=v[a],g=u.prototype,m={},X={},B;b=b||{};B=b.methods;if(!e("except",u)&&(!b.namespaces||
e("namespaces",u)))return d&&"boolean"===typeof b.objectPrototype&&(H=b.objectPrototype),k(B||c,function(a,b){B&&(b=a,a=c[b]);!n(a,"instance")||d&&g===g&&(!H||"get"===b||"set"===b)||h(b,g,a.flags)||e("except",b)||(X[b]=a.instance);!n(a,"static")||d&&u===g&&(!H||"get"===b||"set"===b)||h(b,u,a.flags)||e("except",b)||(m[b]=a)}),z(u,m),z(g,X),B||l(c,"active",!0),c});C[a]=c;Y["[object "+a+"]"]=c;I(a);va(c);return g[a]=c}function wa(){return"Sugar"}function ua(a,b,d,c,e){k(b,function(b,h){var f,g=b;c&&
(g=Z(b));e&&(g.flags=e);d&2&&!b.instance&&(f=c?Z(b,!0):xa(b),l(g,"instance",f));d&1&&l(g,"static",!0);f=g;a[h]=f;f.instance&&A(a,h,f.instance);a.active&&a.extend(h)})}function G(a,b,d){var c;"string"===typeof a?(c={},c[a]=b,a=d):(c=a,a=b);return{a:a,methods:c}}function Z(a,b){var d=a.length-1-(b?1:0);return function(){var c=[],e=[],f;b&&c.push(this);f=Math.max(arguments.length,d);for(var h=0;h<f;h++)h<d?c.push(arguments[h]):e.push(arguments[h]);c.push(e);return a.apply(this,c)}}function xa(a){switch(a.length){case 0:case 1:return function(){return a(this)};
case 2:return function(b){return a(this,b)};case 3:return function(b,d){return a(this,b,d)};case 4:return function(b,d,c){return a(this,b,d,c)};case 5:return function(b,d,c,e){return a(this,b,d,c,e)}}}function z(a,b,d,c){k(b,function(b,f){d&&!c&&a[f]||l(a,f,b)})}function W(a){function b(a,c){if(!(this instanceof b))return new b(a,c);this.constructor!==b&&(a=this.constructor.apply(a,arguments));this.raw=a}l(b,"toString",function(){return"Sugar"+a});l(b.prototype,"valueOf",function(){return this.raw});
return b}function A(a,b,d){d=ya(d);var c,e,f;f=aa.prototype;e=(c=f[b])&&c!==Object.prototype[b];c&&c.b||(f[b]=e?za(b):d);a.prototype[b]=d;a===g.Object&&Aa(b,d)}function va(a){k(g.Object&&g.Object.prototype,function(b,d){if("function"===typeof b){var c=a.prototype;n(c,d)||(c[d]=b)}})}function Aa(a,b){k(C,function(d){d=d.prototype;n(d,a)||(d[a]=b)})}function ya(a){return function(){return new aa(a.apply(this.raw,arguments))}}function za(a){function b(){var b=this.raw,c;null!=b&&(c=Y[J(b)]);c||(c=g.Object);
c=(new c(b))[a];if(c.b)throw new TypeError("Cannot resolve namespace for "+b);return c.apply(this,arguments)}b.b=!0;return b}function I(a,b){var d=C[a],c=v[a].prototype;!b&&ba&&(b=ba(c));k(b,function(a){if("constructor"!==a&&"valueOf"!==a&&"__proto__"!==a){try{var b=c[a];if("function"!==typeof b)return}catch(h){return}A(d,a,b)}})}function Ba(a,b,d){a[b]=d.value}function l(a,b,d,c){ca(a,b,{value:d,enumerable:!!c,configurable:!0,writable:!0})}function J(a){return Ca.call(a)}function n(a,b){return!!a&&
Da.call(a,b)}function Ea(a,b){if(n(a,b))return a[b]}function K(a,b,d){d||(d=J(a));return d==="[object "+b+"]"}function x(a){return function(b,d,c){b[a](d,c)}}function da(a,b){var d=a.prototype;k(b,function(a,b){d[b]=a})}function p(a){if(!L(a))throw new TypeError("Function is not callable");}function Fa(a){var b;b=typeof a;null!=a&&"string"!==b&&"number"!==b&&"boolean"!==b||(a=Object(a));if(Ga&&q(a)){b=a;for(var d=0,c;c=b.charAt(d);)b[d++]=c}return a}function ea(a,b,d,c){var e=[],f;for(f in a)f>>>
0==f&&4294967295!=f&&(d||(c?f<=b:f>=b))&&e.push(+f);e.sort(function(a,c){var d=a>b;return d!==c>b?d?-1:1:a-c});return e}function fa(a,b){for(var d=0,c=a.length;d<c;d++){if(!(d in a)){for(var c=a,e=b,d=ea(c,d,void 0),f,h=0,g=d.length;h<g;h++)f=d[h],e.call(c,c[f],f,c);break}b(a[d],d)}}function r(a,b){for(var d=M(a).toString(10),c="0",e=b-d.replace(/\.\d+/,"").length,f="",c=c.toString();0<e;)if(e&1&&(f+=c),e>>=1)c+=c;d=f+d;0>a&&(d=(0>a?"-":"+")+d);return d}function Ha(){function a(a,c){for(var d=0;d<
b.length;d++)c.push(a+b[d])}var b="FullYear Month Date Hours Minutes Seconds Milliseconds".split(" ");k({Function:"apply,call",RegExp:"compile,exec,test",Number:"toExponential,toFixed,toLocaleString,toPrecision",Object:"hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString",Array:"concat,join,pop,push,reverse,shift,slice,sort,splice,toLocaleString,unshift",Date:"getTime,getTimezoneOffset,setTime,toDateString,toGMTString,toLocaleDateString,toLocaleString,toLocaleTimeString,toTimeString,toUTCString",
String:"anchor,big,blink,bold,charAt,charCodeAt,concat,fixed,fontcolor,fontsize,indexOf,italics,lastIndexOf,link,localeCompare,match,replace,search,slice,small,split,strike,sub,substr,substring,sup,toLocaleLowerCase,toLocaleUpperCase,toLowerCase,toUpperCase"},function(b,c){var d=b.split(",");"Date"===c&&(a("get",d),a("set",d),a("getUTC",d),a("setUTC",d));d.push("toString");I(c,d)})}function ga(a,b,d,c){var e=a.length,f,h;h=c?-1:1;f=c?e-1:0;(d=ha(d))||0===d||(d=f);0>d&&(d=e+d);if(!c&&0>d||c&&d>=e)d=
f;for(f=d;c&&0<=f||!c&&f<e;){if(!(f in a))return Ia(a,b,d,c);if(f>>>0==f&&4294967295!=f&&a[f]===b)return f;f+=h}return-1}function Ia(a,b,d,c){d=ea(a,d,!1,c);var e;for(d.sort(function(a,b){return c?b-a:a-b});void 0!==(e=d.shift());)if(a[e]===b)return+e;return-1}function ia(a,b,d,c){var e=a.length,f=0,h=void 0!==d;p(b);if(0!=e||h)h||(d=a[c?e-1:f],f++);else throw new TypeError("Reduce called on empty array with no initial value");for(;f<e;)h=c?e-f-1:f,h in a&&(d=b(d,a[h],h,a)),f++;return d}function m(a,
b){this.start=N(a);this.end=N(b)}function ja(a){return q(a)?a.charCodeAt(0):a}function ka(a){return null==a?a:y(a)?a.getTime():a.valueOf()}function la(a){a=a.toString().split(".");return a[1]?a[1].length:0}function N(a){return y(a)?new Date(a.getTime()):ka(a)}function ma(a){var b=ka(a);return(!!b||0===b)&&-Infinity!==a&&Infinity!==a}function D(a){return ma(a.start)&&ma(a.end)&&typeof a.start===typeof a.end}function E(a,b,d,c){var e,f,h,g=a.start,l=a.end,m=l<g,k=g,n=0,p=[];if(!D(a))return d?NaN:[];
L(b)&&(c=b,b=null);b=b||1;O(g)?(f=Ja(la(g),la(b)),e=function(){var a=k+b,d,c=Ka(10,M(f||0));d=d||La;0>f&&(c=1/c);return d(a*c)/c}):q(g)?e=function(){return P(k.charCodeAt(0)+b)}:y(g)&&(e=na(b),b=e[0],h=e[1],e=function(){return oa(k,b,h)});for(m&&0<b&&(b*=-1);m?k>=l:k<=l;)d||p.push(k),c&&c(k,n,a),k=e(),n++;return d?n-1:p}function na(a){var b;if(O(a))return[a,"Milliseconds"];b=a.match(Ma);a=+b[1]||1;b=b[2].toLowerCase();b=b.charAt(0).toUpperCase()+b.slice(1);b.match(/hour|minute|second/i)?b+="s":"Year"===
b?b="FullYear":"Week"===b?(b="Date",a*=7):"Day"===b&&(b="Date");return[a,b]}function oa(a,b,d){var c=pa[d];if(c)c=new Date(a.getTime()+b*c);else{var e=c=new Date(a);a=a["get"+(qa(a)?"UTC":"")+d]()+b;e["set"+(qa(e)?"UTC":"")+d](a)}return c}function Q(a,b){var d=a.start,c=a.end,e=c<d?c:d,d=d>c?d:c;return N(b<e?e:b>d?d:b)}function w(a){return y(a)?a:null==a?new Date:t.create?t.create(a):new Date(a)}var g,v="undefined"!==typeof global&&global.Object===Object?global:this,Na="undefined"!==typeof module&&
module.c,H=!1,C={},Y={},ca=Object.defineProperty&&Object.defineProperties?Object.defineProperty:Ba,aa=W("Chainable"),ba=Object.getOwnPropertyNames,Ca=Object.prototype.toString,Da=Object.prototype.hasOwnProperty;(function(){g=v.Sugar;if(!g){g=function(a){k(g,function(b,d){n(C,d)&&b.extend(a)});return g};if(Na)module.c=g;else try{v.Sugar=g}catch(a){}k("Object Number String Array Date RegExp Function".split(" "),function(a){V(a)});l(g,"extend",g);l(g,"toString",wa);l(g,"createNamespace",V);l(g,"util",
{hasOwn:n,getOwn:Ea,setProperty:l,classToString:J,defineProperty:ca,forEachProperty:k,mapNativeToChainable:I})}})();var Ga=!("0"in Object("a")),Oa=g.Object,ra=g.Array,t=g.Date,sa=g.String,R=g.Number,Pa=g.Function,O,q,y,L,ta,Qa=x("alias"),S=x("defineStatic"),Ra=x("defineInstance"),T=x("defineStaticPolyfill"),F=x("defineInstancePolyfill"),ha=Math.trunc||function(a){return 0!==a&&isFinite(a)?0>a?Sa(a):Ta(a):a},M=Math.abs,Ka=Math.pow,Ja=Math.max,Sa=Math.ceil,Ta=Math.floor,La=Math.round,P=String.fromCharCode,
qa=function(a){var b="_sugar_"+a;return function(a,c){return 1<arguments.length?(l(a,b,c),a):a[b]}}("utc");(function(){function a(a,c){return c&&K(new c,"Object")?b(c):d(a)}function b(a){var b=String(a);return function(a){return String(a.constructor)===b}}function d(a){return function(b,c){return K(b,a,c)}}function c(a){var b=a.toLowerCase();return function(c){var d=typeof c;return d===b||"object"===d&&K(c,a)}}(function(){var b="Boolean Number String Date RegExp Function Array Error Set Map".split(" ");
O=c(b[1]);q=c(b[2]);y=a(b[3]);a(b[4]);L=a(b[5]);ta=Array.isArray||a(b[6]);a(b[7]);a(b[8],"undefined"!==typeof Set&&Set);a(b[9],"undefined"!==typeof Map&&Map)})();(function(){fa("Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64".split(" "),function(){})})()})();(function(){for(var a=0;9>=a;a++)P(a+65296),P(a+48)})();var Ua="valueOf toString constructor isPrototypeOf hasOwnProperty toLocaleString propertyIsEnumerable".split(" ");(function(){if(!{toString:1}.propertyIsEnumerable("toString")){var a=
k;k=function(b,d){a(b,d);for(var c=0,e;(e=Ua[c])&&(!n(b,e)||!1!==d.call(b,b[e],e,b));c++);}}})();Object.getOwnPropertyNames||Ha();T(Oa,{keys:function(a){var b=[];if(null==a)throw new TypeError("Object required");k(Fa(a),function(a,c){b.push(c)});return b}});T(ra,{isArray:function(a){return ta(a)}});F(ra,{every:function(a){var b=arguments[1],d=this.length,c=0;for(p(a);c<d;){if(c in this&&!a.call(b,this[c],c,this))return!1;c++}return!0},some:function(a){var b=arguments[1],d=this.length,c=0;for(p(a);c<
d;){if(c in this&&a.call(b,this[c],c,this))return!0;c++}return!1},map:function(a){var b=arguments[1],d=this.length,c=0,e=Array(d);for(p(a);c<d;)c in this&&(e[c]=a.call(b,this[c],c,this)),c++;return e},filter:function(a){var b=arguments[1],d=this.length,c=0,e=[];for(p(a);c<d;)c in this&&a.call(b,this[c],c,this)&&e.push(this[c]),c++;return e},indexOf:function(a){var b=arguments[1];return q(this)?this.indexOf(a,b):ga(this,a,b)},lastIndexOf:function(a){var b=arguments[1];return q(this)?this.lastIndexOf(a,
b):ga(this,a,b,!0)},forEach:function(a){var b=arguments[1],d=this.length,c=0;for(p(a);c<d;)c in this&&a.call(b,this[c],c,this),c++},reduce:function(a){return ia(this,a,arguments[1])},reduceRight:function(a){return ia(this,a,arguments[1],!0)}});var Va=RegExp("^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff]+|[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff]+$",
"g");F(sa,{trim:function(){return this.toString().replace(Va,"")}});F(Pa,{bind:function(a){for(var b=[],d=1,c=arguments.length;d<c;d++)b.push(arguments[d]);var e=this;p(this);d=function(){for(var c=[],d=0,g=arguments.length;d<g;d++)c.push(arguments[d]);return e.apply(e.prototype&&this instanceof e?this:a,b.concat(c))};d.prototype=this.prototype;return d}});T(t,{now:function(){return(new Date).getTime()}});F(t,{toISOString:function(){return r(this.getUTCFullYear(),4)+"-"+r(this.getUTCMonth()+1,2)+
"-"+r(this.getUTCDate(),2)+"T"+r(this.getUTCHours(),2)+":"+r(this.getUTCMinutes(),2)+":"+r(this.getUTCSeconds(),2)+"."+r(this.getUTCMilliseconds(),3)+"Z"},toJSON:function(a){return this.toISOString(a)}},!function(){var a=new Date(Date.UTC(2E3,0));return!!a.toISOString&&"2000-01-01T00:00:00.000Z"===a.toISOString()}());var Ma=/(\d+)?\s*(year|month|week|day|hour|minute|second|millisecond)s?/i,pa={Hours:36E5,Minutes:6E4,Seconds:1E3,Milliseconds:1};da(m,{toString:function(){return D(this)?this.start+".."+
this.end:"Invalid Range"},isValid:function(){return D(this)},span:function(){var a=ja(this.end)-ja(this.start);return D(this)?M(a)+1:NaN},contains:function(a){return null==a?!1:a.start&&a.end?a.start>=this.start&&a.start<=this.end&&a.end>=this.start&&a.end<=this.end:a>=this.start&&a<=this.end},every:function(a,b){return E(this,a,!1,b)},toArray:function(){return E(this)},union:function(a){return new m(this.start<a.start?this.start:a.start,this.end>a.end?this.end:a.end)},intersect:function(a){return a.start>
this.end||a.end<this.start?new m(NaN,NaN):new m(this.start>a.start?this.start:a.start,this.end<a.end?this.end:a.end)},clone:function(){return new m(this.start,this.end)},clamp:function(a){return Q(this,a)}});S(R,{range:U});Ra(R,{upto:function(a,b,d,c){return E(new m(a,b),d,!1,c)},clamp:function(a,b,d){return Q(new m(b,d),a)},cap:function(a,b){return Q(new m(void 0,b),a)}});Qa(R,"downto","upto");S(sa,{range:U});var Wa=/(?:from)?\s*(.+)\s+(?:to|until)\s+(.+)$/i,Xa=/(.+)\s*for\s*((?:\d+)?\s*(?:year|month|week|day|hour|minute|second|millisecond))s?/i,
Ya=/(?:for)?\s*((?:\d+)?\s*(?:year|month|week|day|hour|minute|second|millisecond))s?\s*(?:starting)?\s(?:at\s)?(.+)/i;S(t,{range:function(a,b){var d;if(1===arguments.length&&q(a)){var c,e,f;if(t.get&&(d=a.match(Wa)))c=w(d[1].replace("from","at")),f=t.get(c,d[2]),d=new m(c,f);else{if(d=a.match(Ya))e=d[1],c=d[2];if(d=a.match(Xa))c=d[1],e=d[2];c&&e?(c=w(c),d=na(e),f=oa(c,d[0],d[1])):c=a;d=new m(w(c),w(f))}}else d=new m(w(a),w(b));return d}});(function(){var a={};fa("year month week day hour minute second millisecond".split(" "),
function(b,d){var c=b+"s",e,f;4>d?f=function(){return E(this,b,!0)}:(e=pa[c.charAt(0).toUpperCase()+c.slice(1)],f=function(){return ha((this.end-this.start)/e)});a[c]=f});da(m,a)})()}).call(this);}).call(this);
